
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>환율 계산기 – 오늘 이 돈으로 뭐할 수 있을까?</title>
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      margin: 0; padding: 20px;
      background-color: #f4f4f4;
      color: #333;
    }
    .container {
      max-width: 500px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    h1, h2 {
      font-size: 1.4rem;
      margin-bottom: 12px;
    }
    select, input {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      font-size: 1rem;
    }
    .rates {
      margin-top: 20px;
    }
    .rate-line {
      padding: 8px 0;
      border-bottom: 1px solid #eee;
    }
    @media (max-width: 500px) {
      h1 { font-size: 1.2rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>💱 환율 계산기</h1>
    <label for="base-currency">기준 통화 선택</label>
    <select id="base-currency">
      <option value="USD">🇺🇸 USD</option>
      <option value="EUR">🇪🇺 EUR</option>
      <option value="GBP">🇬🇧 GBP</option>
      <option value="KRW" selected>🇰🇷 KRW</option>
      <option value="JPY">🇯🇵 JPY</option>
      <option value="VND">🇻🇳 VND</option>
      <option value="PHP">🇵🇭 PHP</option>
      <option value="IDR">🇮🇩 IDR</option>
      <option value="HKD">🇭🇰 HKD</option>
      <option value="THB">🇹🇭 THB</option>
    </select>

    <label for="amount">금액 입력</label>
    <input type="number" id="amount" placeholder="금액을 입력하세요 (예: 1000)">

    <div class="rates" id="rates"></div>
  </div>

  <script>
    const currencies = ["USD", "EUR", "GBP", "KRW", "JPY", "VND", "PHP", "IDR", "HKD", "THB"];
    const examples = {
      KRW: [
        { max: 2000, text: "편의점 커피" },
        { max: 5000, text: "삼각김밥 + 음료" },
        { max: 10000, text: "김밥천국 한 끼" },
        { max: 20000, text: "카페 디저트 세트" },
        { max: 50000, text: "1인 샤브샤브 외식" }
      ],
      USD: [
        { max: 3, text: "자판기 음료" },
        { max: 6, text: "맥도날드 햄버거" },
        { max: 15, text: "파네라 브레드 점심" },
        { max: 30, text: "중급 레스토랑 식사" },
        { max: 60, text: "소규모 공연 티켓" }
      ],
      JPY: [
        { max: 300, text: "페트병 음료" },
        { max: 600, text: "편의점 도시락" },
        { max: 1200, text: "규동 체인 한 끼" },
        { max: 2500, text: "우동 + 맥주 세트" },
        { max: 5000, text: "도톤보리 맛집 식사" }
      ],
      VND: [
        { max: 10000, text: "거리 아이스티" },
        { max: 20000, text: "로컬 커피" },
        { max: 50000, text: "쌀국수 한 그릇" },
        { max: 100000, text: "분짜 세트" },
        { max: 200000, text: "마사지 1시간" }
      ],
      PHP: [
        { max: 20, text: "길거리 간식" },
        { max: 50, text: "제곱밥 한 그릇" },
        { max: 120, text: "패스트푸드 한 끼" },
        { max: 250, text: "쇼핑몰 레스토랑" },
        { max: 500, text: "마사지 or 영화" }
      ],
      IDR: [
        { max: 5000, text: "보틀 워터" },
        { max: 15000, text: "미니 나시고랭" },
        { max: 30000, text: "로컬 식당 한 끼" },
        { max: 60000, text: "카페+케이크" },
        { max: 120000, text: "마사지 1시간" }
      ],
      HKD: [
        { max: 10, text: "에그타르트 하나" },
        { max: 30, text: "차찬탱 식사" },
        { max: 60, text: "딤섬 브런치" },
        { max: 120, text: "고급 디저트 카페" },
        { max: 200, text: "홍콩섬 야경 크루즈" }
      ],
      EUR: [
        { max: 2, text: "에스프레소 한 잔" },
        { max: 5, text: "베이커리 샌드위치" },
        { max: 12, text: "카페 런치 세트" },
        { max: 25, text: "캐주얼 레스토랑" },
        { max: 50, text: "전통 요리 + 와인" }
      ],
      GBP: [
        { max: 2, text: "병음료 or 과자" },
        { max: 5, text: "슈퍼 샌드위치" },
        { max: 10, text: "피시앤칩스" },
        { max: 20, text: "펍 런치" },
        { max: 40, text: "이탈리안 식사 코스" }
      ]
    };

    function getExample(currency, amount) {
      const list = examples[currency];
      if (!list) return "소비 예시 없음";
      for (let i = 0; i < list.length; i++) {
        if (amount <= list[i].max) return list[i].text;
      }
      return list[list.length - 1].text;
    }

    const baseSelect = document.getElementById("base-currency");
    const amountInput = document.getElementById("amount");
    const ratesEl = document.getElementById("rates");

    baseSelect.addEventListener("change", updateRates);
    amountInput.addEventListener("input", updateRates);
    window.addEventListener("load", updateRates);

    function updateRates() {
      const base = baseSelect.value;
      const amount = parseFloat(amountInput.value) || 1;
      const targets = currencies.filter(c => c !== base).join(",");
      fetch(`https://api.exchangerate.host/latest?base=${base}&symbols=${targets}`)
        .then(res => res.json())
        .then(data => {
          const rates = data.rates;
          ratesEl.innerHTML = `<h2>💸 ${amount.toLocaleString()} ${base} 기준 환산 결과</h2>`;
          for (const [code, rate] of Object.entries(rates)) {
            const converted = amount * rate;
            const item = getExample(code, converted);
            ratesEl.innerHTML += `
              <div class="rate-line">
                ✅ ${converted.toLocaleString(undefined, {maximumFractionDigits: 2})} ${code} ≈ ${item}
              </div>
            `;
          }
        })
        .catch(err => {
          ratesEl.innerHTML = "<p style='color:red;'>환율 데이터를 불러오지 못했어요 😢</p>";
        });
    }
  </script>
</body>
</html>
